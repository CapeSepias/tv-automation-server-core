// Root playlist/rundown list, see RundownList.tsx
.rundown-list {
	--componentWidth: calc(100%);
	--defaultSpacing: 20px;
	--defaultItemBackgroundColor: #f6f6f6;
	--descendantItemBackgroundColor: #e5e5e5;
	--treeLinesColor: #dddddd;

	background-color: transparent;
	width: 100%;

	.rundown-list__header {
		background-color: #898989;
		color: #fff;
		padding: 5px var(--defaultSpacing) 7px;
		vertical-align: middle;
	}

	.rundown-list-item__name {
		display: inline-block;
		width: 25%;

		.draghandle {
			margin-right: var(--defaultSpacing);
			width: var(--defaultSpacing);
		}
	}
	.rundown-list-item__showStyle {
		display: inline-block;
		width: 30%;
	}
	.rundown-list-item__airTime,
	.rundown-list-item__status,
	.rundown-list-item__duration,
	.rundown-list-item__created {
		display: inline-block;
		width: 10%;
	}
	.rundown-list-item__actions {
		display: inline-block;
		width: 5%;

		> .action-btn {
			width: 1.5em;
		}
	}

	&.droptarget {
		border: 4px dashed green;
	}

	// the actual playlists and rundowns
	.rundown-playlists {
		margin: 0;

		// a rundown playlist, see RundownPlaylistUi.tsx
		.rundown-playlist {
			list-style-type: none;
			margin: 0;
			width: 100%;

			.rundown-playlist__header {
				background-color: var(--defaultItemBackgroundColor);

				.rundown-playlist__heading {
					display: inline-block;
				}
			}

			.rundown-playlist__rundowns {
				--leftGutterWidth: calc(2 * var(--defaultSpacing));

				padding: 0;
				margin: 0;

				// overrides for rundowns inside of playlists
				.rundown-list-item {
					background-color: var(--descendantItemBackgroundColor);
					border-top: 1px solid #c6c6c6;
					margin-bottom: 0;
					position: relative;
					margin-left: var(--leftGutterWidth);

					&::before,
					&::after {
						content: '';
						position: absolute;
						left: calc(-1 * var(--leftGutterWidth) / 2);
					}

					&::before {
						border-top: 1px dotted var(--treeLinesColor);
						top: calc(var(--leftGutterWidth) / 2);
						width: calc(var(--leftGutterWidth) / 2);
						height: 0;
					}

					&::after {
						border-left: 1px dotted var(--treeLinesColor);
						height: 100%;
						width: 0px;
						top: 0.1em;
					}

					&:last-child::after {
						height: 50%;
					}

					// recalc widths to line up with columns outside of playlists
					.rundown-list-item__name {
						width: calc((100% - var(--leftGutterWidth)) * 0.25 - var(--leftGutterWidth) / 2);
					}
					.rundown-list-item__showStyle {
						width: calc((100% + var(--leftGutterWidth)) * 0.3);
					}
					.rundown-list-item__airTime,
					.rundown-list-item__status,
					.rundown-list-item__duration,
					.rundown-list-item__created {
						width: calc((100% + var(--leftGutterWidth)) * 0.1);
					}
					.rundown-list-item__actions {
						width: calc((100% + var(--leftGutterWidth)) * 0.05);
					}
				}
			}
		}

		// a single rundown representation, see RundownListItem.tsx
		// some of these rules might be overridden when a rundown is included in a
		// playlist, see the .rundown-playlist section
		.rundown-list-item {
			--scaleFactor: 1;

			background-color: var(--defaultItemBackgroundColor);
			box-shadow: 0px 8px 10px -10px rgba(0, 0, 0, 0.15);
			margin: 0 0 6px;
			padding: 5px var(--defaultSpacing) 7px;
			list-style-type: none;
			vertical-align: middle;

			&.unsynced {
				background-image: repeating-linear-gradient(
					-45deg,
					transparent,
					transparent 20px,
					rgba(255, 255, 0, 0.3) 20px,
					rgba(255, 255, 0, 0.3) 40px
				);
			}

			&.dragging {
				--scaleFactor: 1.02;
				z-index: 99;
			}
		}
	}

	// the area appearing under the playlists and rundown where a rundown can
	// be dropped to move it to a new playlist. See RundownDropZone.tsx
	.rundown-dropzone {
		display: none;

		&.open {
			display: block;
			border: 4px dashed green;
			height: 61px;
			margin-top: 8px;
		}
	}
}
